{% extends 'base.html' %}
{% load static %}

{% block title %}Hem - Prao Platser{% endblock %}

{% block content %}
<style>
   
    
</style>

<!-- Filtreringsformulär -->
<div class="filter-form" style="margin-bottom: 20px; padding: 15px; background-color: #ffffff; border-radius: 8px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);">
    <form method="GET" action="{% url 'prao' %}" style="display: flex; flex-direction: column; gap: 10px;">
        <input type="text" name="företag" placeholder="Sök efter företag..." value="{{ request.GET.företag }}" style="padding: 10px; border-radius: 5px; border: 1px solid #ccc;">
        <input type="text" name="rubrik" placeholder="Sök efter rubrik..." value="{{ request.GET.rubrik }}" style="padding: 10px; border-radius: 5px; border: 1px solid #ccc;">
        
        <div>
            <strong>Typ av annons:</strong>
            <label>
                <input type="checkbox" name="type" value="prao" {% if request.GET.type == 'prao' %}checked{% endif %}>
                Prao
            </label>
            <label>
                <input type="checkbox" name="type" value="apl" {% if request.GET.type == 'apl' %}checked{% endif %}>
                APL
            </label>
            <label>
                <input type="checkbox" name="type" value="praktik" {% if request.GET.type == 'praktik' %}checked{% endif %}>
                Praktik
            </label>
        </div>
        <div>
            <strong>Typ av bransch:</strong>
            <label>
                <input type="checkbox" name="bransch" value="teknik" {% if request.GET.bransch == 'teknik' %}checked{% endif %}>
                Teknik
            </label>
            <label>
                <input type="checkbox" name="bransch" value="vård" {% if request.GET.bransch == 'vård' %}checked{% endif %}>
                Vård
            </label>
            <label>
                <input type="checkbox" name="bransch" value="service" {% if request.GET.bransch == 'service' %}checked{% endif %}>
                Service
            </label>
            <label>
                <input type="checkbox" name="bransch" value="fordon" {% if request.GET.bransch == 'fordon' %}checked{% endif %}>
                Fordon
            </label>
            <label>
                <input type="checkbox" name="bransch" value="butik" {% if request.GET.bransch == 'butik' %}checked{% endif %}>
                Butik
            </label>
            <label>
                <input type="checkbox" name="bransch" value="industri" {% if request.GET.bransch == 'industri' %}checked{% endif %}>
                Industri
            </label>
        </div>

        <button type="submit" style="padding: 10px; background-color: #007BFF; color: white; border: none; border-radius: 5px; cursor: pointer; transition: background-color 0.3s;">
            Filtrera
        </button>
    </form>
</div>

<!-- Innehåll på startsidan -->
<div class="content">
    <h2>Tillgängliga Prao Platser</h2>

    {% for annons in annonser %}
    <div class="ad-card">
        <div class="ad-image-container">
            {% if annons.bild %}
                <img src="{{ annons.bild.url }}" alt="Banner för {{ annons.rubrik }}" class="ad-image">
            {% endif %}
        </div>
        <div class="ad-text-container">
            <div class="ad-title">{{ annons.rubrik }}</div>
            <div class="ad-description">{{ annons.beskrivning|truncatewords:30 }}</div>
            <div class="ad-info">
                <div class="ad-info-item"><strong>Företag:</strong> {{ annons.företag }}</div>
                <div class="ad-info-item"><strong>Publicerad:</strong> {{ annons.publicerad_datum }}</div>
                <div class="ad-info-item"><strong>Annons Typ: {{ annons.annons_typ }}</strong></div>
                <div class="ad-info-item"><strong>Bransch:</strong> {{ annons.bransch_typ }}</div>
            </div>
            <a href="{% url 'annons_detajl' annons.id %}" class="apply-button">Ansök här</a>
        </div>
    </div>
    {% empty %}
    <p>Inga annonser tillgängliga just nu.</p>
    {% endfor %}
</div>
{% endblock %}
